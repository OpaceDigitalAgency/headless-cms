@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================================
   Base Styles
   =========================================== */

@layer base {
  :root {
    --font-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-serif: Georgia, Cambria, 'Times New Roman', Times, serif;
    --font-mono: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Monaco, Consolas, monospace;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-white text-gray-900 antialiased;
  }

  /* Focus styles */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary-500;
  }
}

/* ===========================================
   Component Styles
   =========================================== */

@layer components {
  /* Container */
  .container {
    @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500;
  }

  .btn-secondary {
    @apply btn bg-secondary-100 text-secondary-900 hover:bg-secondary-200 focus-visible:ring-secondary-500;
  }

  .btn-outline {
    @apply btn border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-500;
  }

  /* Cards */
  .card {
    @apply rounded-xl bg-white shadow-sm ring-1 ring-gray-200;
  }

  /* Links */
  .link {
    @apply text-primary-600 hover:text-primary-700 underline underline-offset-2;
  }
}

/* ===========================================
   Template Styles
   =========================================== */

/* Detail Template */
.detail-template {
  @apply container py-12;
}

.detail-header {
  @apply mb-8;
}

.detail-heading {
  @apply text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl;
}

.detail-subheading {
  @apply mt-4 text-xl text-gray-600;
}

.detail-meta {
  @apply mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500;
}

.detail-author {
  @apply flex items-center gap-2;
}

.author-avatar {
  @apply h-10 w-10 rounded-full object-cover;
}

.detail-featured-image {
  @apply mb-8 overflow-hidden rounded-xl;
}

.detail-featured-image img {
  @apply h-auto w-full object-cover;
}

.detail-content-wrapper {
  @apply grid gap-12 lg:grid-cols-3;
}

.detail-main {
  @apply lg:col-span-2;
}

.detail-body {
  @apply prose prose-lg max-w-none;
}

.detail-sidebar {
  @apply space-y-8;
}

.detail-gallery {
  @apply mt-12;
}

.gallery-grid {
  @apply mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3;
}

.gallery-item {
  @apply overflow-hidden rounded-lg;
}

.gallery-item img {
  @apply h-48 w-full object-cover transition-transform hover:scale-105;
}

.detail-related {
  @apply mt-16 border-t pt-12;
}

.related-grid {
  @apply mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3;
}

.related-item {
  @apply card overflow-hidden transition-shadow hover:shadow-md;
}

.related-item img {
  @apply h-40 w-full object-cover;
}

.related-item h3 {
  @apply p-4 font-medium;
}

/* List Template */
.list-template {
  @apply container py-12;
}

.list-header {
  @apply mb-8;
}

.list-heading {
  @apply text-3xl font-bold tracking-tight text-gray-900;
}

.list-items--grid {
  @apply grid gap-6 sm:grid-cols-2 lg:grid-cols-3;
}

.list-items--list {
  @apply space-y-4;
}

.list-item {
  @apply card overflow-hidden transition-shadow hover:shadow-md;
}

.list-item-link {
  @apply block;
}

.list-item-image img {
  @apply h-48 w-full object-cover;
}

.list-item-content {
  @apply p-4;
}

.list-item-title {
  @apply font-semibold text-gray-900;
}

.list-item-excerpt {
  @apply mt-2 text-sm text-gray-600 line-clamp-2;
}

.list-pagination {
  @apply mt-12 flex items-center justify-center gap-4;
}

/* Landing Template */
.landing-template {
  @apply min-h-screen;
}

.landing-hero {
  @apply relative flex min-h-[60vh] items-center justify-center overflow-hidden bg-gray-900;
}

.hero-background {
  @apply absolute inset-0;
}

.hero-background img {
  @apply h-full w-full object-cover opacity-50;
}

.hero-overlay {
  @apply absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent;
}

.hero-content {
  @apply relative z-10 px-4 text-center text-white;
}

.hero-heading {
  @apply text-4xl font-bold tracking-tight sm:text-5xl lg:text-6xl;
}

.hero-subheading {
  @apply mx-auto mt-6 max-w-2xl text-xl text-gray-300;
}

.hero-links {
  @apply mt-8 flex flex-wrap justify-center gap-4;
}

.hero-link {
  @apply btn;
}

.hero-link--primary {
  @apply btn-primary;
}

.hero-link--secondary {
  @apply bg-white/10 text-white hover:bg-white/20;
}

.landing-blocks {
  @apply space-y-16 py-16;
}

.landing-block {
  @apply container;
}

/* Article Template */
.article-template {
  @apply container py-12;
}

.article-header {
  @apply mx-auto max-w-3xl text-center;
}

.article-categories {
  @apply mb-4 flex flex-wrap justify-center gap-2;
}

.category-link {
  @apply rounded-full bg-primary-100 px-3 py-1 text-sm font-medium text-primary-700 hover:bg-primary-200;
}

.article-heading {
  @apply text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl;
}

.article-meta {
  @apply mt-6 flex flex-wrap items-center justify-center gap-4 text-sm text-gray-500;
}

.article-featured-image {
  @apply mx-auto mt-8 max-w-4xl overflow-hidden rounded-xl;
}

.article-featured-image img {
  @apply h-auto w-full;
}

.article-layout {
  @apply mx-auto mt-12 grid max-w-4xl gap-12 lg:grid-cols-4;
}

.article-toc {
  @apply hidden lg:block;
}

.article-toc nav {
  @apply sticky top-24;
}

.article-toc h2 {
  @apply mb-4 text-sm font-semibold uppercase tracking-wide text-gray-500;
}

.article-toc ul {
  @apply space-y-2 text-sm;
}

.toc-item a {
  @apply text-gray-600 hover:text-gray-900;
}

.toc-item--level-3 {
  @apply pl-4;
}

.article-content {
  @apply prose prose-lg max-w-none lg:col-span-3;
}

.article-tags {
  @apply mx-auto mt-12 flex max-w-3xl flex-wrap items-center gap-2 border-t pt-8;
}

.tags-label {
  @apply text-sm font-medium text-gray-500;
}

.tag-link {
  @apply rounded-full bg-gray-100 px-3 py-1 text-sm text-gray-700 hover:bg-gray-200;
}

.article-related {
  @apply mt-16 border-t pt-12;
}

.related-posts-grid {
  @apply mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3;
}

.related-post-card {
  @apply card overflow-hidden transition-shadow hover:shadow-md;
}

.related-post-image {
  @apply h-40 w-full object-cover;
}

.related-post-content {
  @apply p-4;
}

.related-post-content h3 {
  @apply font-semibold text-gray-900;
}

.related-post-content p {
  @apply mt-2 text-sm text-gray-600 line-clamp-2;
}

/* Timeline Template */
.timeline-template {
  @apply container py-12;
}

.timeline-header {
  @apply mb-12 text-center;
}

.timeline-heading {
  @apply text-3xl font-bold tracking-tight text-gray-900;
}

.timeline-container {
  @apply relative mx-auto max-w-3xl;
}

.timeline-container::before {
  @apply absolute left-1/2 top-0 h-full w-0.5 -translate-x-1/2 bg-gray-200;
  content: '';
}

.timeline-year-group {
  @apply relative;
}

.timeline-year-marker {
  @apply relative z-10 mx-auto mb-8 w-fit rounded-full bg-primary-600 px-4 py-2 text-sm font-bold text-white;
}

.timeline-events {
  @apply space-y-8;
}

.timeline-event {
  @apply relative flex items-start;
}

.timeline-event--left {
  @apply flex-row-reverse text-right;
}

.event-marker {
  @apply absolute left-1/2 top-4 h-4 w-4 -translate-x-1/2 rounded-full border-4 border-white bg-primary-500 shadow;
}

.event-card {
  @apply card w-5/12 p-4;
}

.event-date {
  @apply text-sm font-medium text-primary-600;
}

.event-title {
  @apply mt-1 font-semibold text-gray-900;
}

.event-description {
  @apply mt-2 text-sm text-gray-600;
}

/* Home Template */
.home-template {
  @apply min-h-screen;
}

.home-hero {
  @apply relative flex min-h-[70vh] items-center justify-center overflow-hidden bg-gray-900;
}

.home-sections {
  @apply space-y-24 py-24;
}

.home-section {
  @apply container;
}

.section-header {
  @apply mb-8 text-center;
}

.section-header h2 {
  @apply text-3xl font-bold tracking-tight text-gray-900;
}

.section-header p {
  @apply mt-2 text-lg text-gray-600;
}

.featured-grid {
  @apply grid gap-6 sm:grid-cols-2 lg:grid-cols-3;
}

.featured-item {
  @apply card overflow-hidden transition-shadow hover:shadow-md;
}

.featured-item--large {
  @apply sm:col-span-2 lg:col-span-2;
}

.featured-image img {
  @apply h-48 w-full object-cover;
}

.featured-item--large .featured-image img {
  @apply h-64;
}

.featured-content {
  @apply p-4;
}

.featured-category {
  @apply text-sm font-medium text-primary-600;
}

.featured-content h3 {
  @apply mt-1 font-semibold text-gray-900;
}

.featured-content p {
  @apply mt-2 text-sm text-gray-600 line-clamp-2;
}

.section-cta {
  @apply mt-8 text-center;
}

.section-cta-link {
  @apply link font-medium;
}

/* Archive Template */
.archive-template {
  @apply min-h-screen;
}

.archive-header {
  @apply relative bg-gray-100 py-16;
}

.archive-hero-image {
  @apply absolute inset-0;
}

.archive-hero-image img {
  @apply h-full w-full object-cover opacity-20;
}

.archive-header-content {
  @apply container relative z-10;
}

.archive-heading {
  @apply text-4xl font-bold tracking-tight text-gray-900;
}

.archive-layout {
  @apply container grid gap-12 py-12 lg:grid-cols-4;
}

.archive-main {
  @apply lg:col-span-3;
}

.archive-items {
  @apply space-y-6;
}

.archive-item {
  @apply card overflow-hidden transition-shadow hover:shadow-md;
}

.archive-item-link {
  @apply flex flex-col sm:flex-row;
}

.archive-item-image {
  @apply sm:w-48 flex-shrink-0;
}

.archive-item-image img {
  @apply h-48 w-full object-cover sm:h-full;
}

.archive-item-content {
  @apply flex-1 p-4;
}

.archive-item-title {
  @apply font-semibold text-gray-900;
}

.archive-item-excerpt {
  @apply mt-2 text-sm text-gray-600 line-clamp-2;
}

.archive-item-meta {
  @apply mt-4 flex items-center gap-4 text-sm text-gray-500;
}

.archive-pagination {
  @apply mt-12;
}

.pagination-controls {
  @apply flex items-center justify-center gap-2;
}

.pagination-number {
  @apply rounded-lg px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100;
}

.pagination-number--active {
  @apply bg-primary-600 text-white hover:bg-primary-700;
}

.archive-sidebar {
  @apply space-y-8;
}

.related-archives h3 {
  @apply mb-4 text-lg font-semibold text-gray-900;
}

.related-archives ul {
  @apply space-y-2;
}

.related-archives a {
  @apply flex items-center justify-between text-gray-600 hover:text-gray-900;
}

.archive-count {
  @apply text-sm text-gray-400;
}

/* ===========================================
   Utility Classes
   =========================================== */

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
